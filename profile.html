<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Blogging App</title>
    <link rel="stylesheet" href="assests/css/main.css" />
    <link rel="stylesheet" href="assests/css/responsive.css" />
    <link rel="stylesheet" href="assests/css/login_signup.css" />
    <!-- font awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css" integrity="sha512-DTOQO9RWCH3ppGqcWaEA1BIZOC6xxalwEsw9c2QQeAIftl+Vegovlnee1c9QX4TctnWMn13TZye+giMm8e2LwA==" crossorigin="anonymous" referrerpolicy="no-referrer" />
    <style>

        #update_password{
            width: auto;
            padding: 0 10px;
            font-weight: lighter;
        }


    </style>
</head>
  <body>
    <!-- header start -->
    <header>
      <!-- navbar start -->
      <nav class="navbar container-fluid">
        <a href="index.html"><h4>Blogging App</h4></a>
        <div>
          <a class="login_signup" id="userName"></a>
          <a class="login_signup" id="logoutBtn">Logout</a>
        </div>
      </nav>
      <!-- navbar end -->
      <div class="container-fluid page-title">
        <!-- greeting for users -->
        <h1 class="greetings">Profile</h1>
      </div>
    </header>
    <!-- header end -->

    <!-- main start -->
    <main class="container-fluid">
      <section class="post-container">
        <div class="post-card profile-box">
            <div>
                <img src="assests/images/writer-dp.jpg" width="300px" />
            </div>


            <form id="mainForm">
                <input type="password" id="old-password" placeholder="Password">
                <input type="password" id="new-password" placeholder="Password">
                <input type="password" id="password" placeholder="Repeat Password">
    
                <button type="submit" id="update_password">Update Password</button>
            </form>

        </div>
      </section>
    </main>


    <script>

      let userCreds = JSON.parse(localStorage.getItem("user-creds"));
      let userInfo = JSON.parse(localStorage.getItem("user-info"));

      let userName = document.getElementById("userName");
      let logoutButton = document.getElementById("logoutBtn");
      


      let signOut = () => {
          localStorage.removeItem("user-creds");
          localStorage.removeItem("user-info");
          window.location.href = "login.html"
      }

      let ifUserLogin = () => {
          if(!localStorage.getItem("user-creds")){
              window.location.href = "login.html"
          } else { 
              logoutButton.style.display = "block";
              userName.innerText = `${userInfo.firstName + " " + userInfo.lastName}`;
          }
      }


      window.addEventListener("load", ifUserLogin);
      logoutButton.addEventListener("click", signOut)
          
 </script>

    <!-- <script type="module" src="assests/js/firebase.js"></script> -->
    <script src="https://unpkg.com/sweetalert/dist/sweetalert.min.js"></script>

  </body>
</html>
