<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Blogging App</title>
    <link rel="stylesheet" href="assests/css/main.css" />
    <link rel="stylesheet" href="assests/css/responsive.css" />
    <link rel="stylesheet" href="assests/css/dashboard.css" />
    <!-- font awesome -->
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css"
      integrity="sha512-DTOQO9RWCH3ppGqcWaEA1BIZOC6xxalwEsw9c2QQeAIftl+Vegovlnee1c9QX4TctnWMn13TZye+giMm8e2LwA=="
      crossorigin="anonymous"
      referrerpolicy="no-referrer"
    />
  </head>
  <body>
    <!-- header start -->
    <header>
      <!-- navbar start -->
      <nav class="navbar container-fluid">
        <a href="index.html"><h4>Blogging App</h4></a>
        <div>
          <a class="login_signup" id="userName" href="profile.html">User name</a>
          <a class="login_signup" id="logoutBtn">Logout</a>
        </div>
      </nav>
      <!-- navbar end -->
      <div class="container-fluid page-title">
        <!-- greeting for users -->
        <h1 class="greetings">Dashboard</h1>
      </div>
    </header>
    <!-- header end -->

    <main class="container-fluid">
      <section class="posting-blog post-container">
        <form id="posting-form">
          <input
            type="text"
            placeholder="Post Title"
            title="Write a title for your post"
            maxlength="50"
            minlength="5"
            id="postTitle"
            autocomplete="off"
            required
          />
          <textarea
            id="postText"
            cols="30"
            rows="10"
            placeholder="What's in your mind?"
            title="What's in your mind?"
            minlength="100"
            maxlength="3000"
            autocomplete="off"
            required
          ></textarea>
          <button type="submit" id="postBtn">Publish Blog</button>
        </form>
      </section>

      <h2>My Blogs</h2>
      <br />
      <section class="post-container">
        <div class="notify"></div>
        <div class="post-card">
          <div class="post-info">
            <img
              src="assests/images/writer-dp.jpg"
              class="author-dp"
            />
            <div>
              <h3 class="post-title">Introducing Whisper</h3>
              <div class="post-author">
                <span>Elon Musk</span> - <span>Aug 17th, 2023</span>
              </div>
            </div>
          </div>

          <div class="post-content">
            Whisper is an automatic speech recognition (ASR) system trained on
            680,000 hours of multilingual and multitask supervised data
            collected from the web. We show that the use of such a large and
            diverse dataset leads to improved robustness to accents, background
            noise and technical language. Moreover, it enables transcription in
            multiple languages, as well as translation from those languages into
            English. We are open-sourcing models and inference code to serve as
            a foundation for building useful applications and for further
            research on robust speech processing.
          </div>

          <div class="content-edit">
            <button>Delete</button>
            <button>Edit</button>
          </div>
        </div>
      </section>
    </main>

    <!-- firebase -->
    <script>

      let userCreds = JSON.parse(localStorage.getItem("user-creds"));
      let userInfo = JSON.parse(localStorage.getItem("user-info"));

      let userName = document.getElementById("userName");
      let logoutButton = document.getElementById("logoutBtn");
      


      let signOut = () => {
          localStorage.removeItem("user-creds");
          localStorage.removeItem("user-info");
          window.location.href = "login.html"
      }

      let ifUserLogin = () => {
          if(!localStorage.getItem("user-creds")){
              window.location.href = "login.html"
          } else { 
              logoutButton.style.display = "block";
              userName.innerText = `${userInfo.firstName + " " + userInfo.lastName}`;
          }
      }


      window.addEventListener("load", ifUserLogin);
      logoutButton.addEventListener("click", signOut)
      
 </script>

    <!-- javascript -->
    <script type="module" src="assests/js/main.js"></script>
    <script src="https://unpkg.com/sweetalert/dist/sweetalert.min.js"></script>

  </body>
</html>
